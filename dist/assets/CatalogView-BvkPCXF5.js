import{q as p,s as x,c as n,o as r,F as f,l as h,b as e,t as c,a as C,k as q,y as N,x as A,i as Z,z as R,h as L}from"./index-DcnATbR2.js";import{a as $}from"./index-NIGUFBhG.js";const D={id:"main-catalog-office-wrapper"},j={class:"first-part"},I={class:"links"},P={class:"link-main"},F=["href"],O={__name:"MainOfficeCatalog",setup(M){const d=p([]),v="94d8c91fa5dabfca027b5b963a0474eea4ca5d83451ae7876e28e591ab73eac1f389086d461ecdb40ae4fb8743c6d3029ff7bd9b7cf7b05b33cab08953eae5556d84fee311016c468230e06dd1974bd5d6e4a86257a11112bb89e4e3d4350a02b78f94b12f1ec9d827d031290ae46fc0eeadb364d0be2c912b2f5a4cc99866fd";return x(async()=>{try{const o=await $.get("https://ethical-bell-7cfe17e5f3.strapiapp.com/api/cataloguesprincipauxbureaux?populate=*",{headers:{Authorization:`Bearer ${v}`}});d.value=o.data.data}catch(o){console.error("Error fetching main catalogs:",o)}}),(o,l)=>(r(),n("div",D,[(r(!0),n(f,null,h(d.value,i=>(r(),n("div",{class:"main-catalog-inside",key:i.id},[e("div",j,[e("h2",null,c(i.Title),1),e("p",null,c(i.Maj),1)]),e("div",I,[e("div",P,[i.document_mob?(r(),n("a",{key:0,href:`${i.document_mob.url}`,target:"_blank"},l[0]||(l[0]=[q("Chaises & bureaux ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.249",height:"16.42",fill:"currentColor",viewBox:"0 0 17.249 16.42"},[e("g",{transform:"translate(8.624 8.21)"},[e("g",{transform:"translate(-8.624 -8.21)"},[e("path",{d:"M16.825,7.2,9.967.412A1.426,1.426,0,1,0,7.961,2.44l4.392,4.344H1.426a1.426,1.426,0,1,0,0,2.852H12.353L7.961,13.98a1.426,1.426,0,1,0,2.006,2.028l6.858-6.784a1.426,1.426,0,0,0,0-2.028Z"})])])],-1)]),8,F)):C("",!0)])])]))),128))]))}},U={id:"main-catalog-wrapper"},K={class:"first-part"},W={class:"link-main"},G=["href"],J={__name:"MainCatalog",setup(M){const d=p([]),v="94d8c91fa5dabfca027b5b963a0474eea4ca5d83451ae7876e28e591ab73eac1f389086d461ecdb40ae4fb8743c6d3029ff7bd9b7cf7b05b33cab08953eae5556d84fee311016c468230e06dd1974bd5d6e4a86257a11112bb89e4e3d4350a02b78f94b12f1ec9d827d031290ae46fc0eeadb364d0be2c912b2f5a4cc99866fd";return x(async()=>{try{const o=await $.get("https://ethical-bell-7cfe17e5f3.strapiapp.com/api/cataloguesprincipaux?populate=Document",{headers:{Authorization:`Bearer ${v}`}});d.value=o.data.data}catch(o){console.error("Error fetching main catalogs:",o)}}),(o,l)=>(r(),n("div",U,[(r(!0),n(f,null,h(d.value,i=>(r(),n("div",{class:"main-catalog-inside",key:i.id},[e("div",K,[e("h2",null,c(i.Title),1),e("p",null,c(i.Maj),1)]),e("div",W,[i.Document?(r(),n("a",{key:0,href:`${i.Document.url}`,target:"_blank"},l[0]||(l[0]=[q("Voir le catalogue ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.249",fill:"currentColor",height:"16.42",viewBox:"0 0 17.249 16.42"},[e("g",{transform:"translate(8.624 8.21)"},[e("g",{transform:"translate(-8.624 -8.21)"},[e("path",{d:"M16.825,7.2,9.967.412A1.426,1.426,0,1,0,7.961,2.44l4.392,4.344H1.426a1.426,1.426,0,1,0,0,2.852H12.353L7.961,13.98a1.426,1.426,0,1,0,2.006,2.028l6.858-6.784a1.426,1.426,0,0,0,0-2.028Z"})])])],-1)]),8,G)):C("",!0)])]))),128))]))}},Q={id:"wrapper-catalog"},X={id:"brand-modal",style:{display:"none"}},Y={class:"brand-popup"},ee={class:"popup-element-wrapper"},te={class:"popup-search"},se={class:"brand-element-full"},ae=["onClick"],ne={id:"filters-section"},re={id:"filters-wrapper"},ie={class:"filters-to-display"},oe={id:"department-filters"},le={class:"departement-element"},de=["onClick"],ce={id:"catalog-content"},ue={id:"section-fixed"},pe={id:"wrapper-supplier-catalog"},fe={class:"catalog-cover"},he=["srcset"],ve=["srcset"],me=["srcset"],be=["srcset"],ge=["srcset"],_e=["src"],we={class:"supplier-catalog-element"},ye={class:"supplier-catalog-inside"},ke={class:"first-part"},xe={class:"link-main"},Ce=["href"],Be={__name:"CatalogView",setup(M){const d="https://ethical-bell-7cfe17e5f3.strapiapp.com",o=$.create({baseURL:d,headers:{Authorization:"Bearer 94d8c91fa5dabfca027b5b963a0474eea4ca5d83451ae7876e28e591ab73eac1f389086d461ecdb40ae4fb8743c6d3029ff7bd9b7cf7b05b33cab08953eae5556d84fee311016c468230e06dd1974bd5d6e4a86257a11112bb89e4e3d4350a02b78f94b12f1ec9d827d031290ae46fc0eeadb364d0be2c912b2f5a4cc99866fd"}}),l=p(""),i=p([]),_=p([]),w=p([]);function u(s){if(!s)return"";const t=s.url||s.attributes?.url;return t?t.startsWith("http")?t:`${d}${t}`:""}async function m(s={}){const{data:t}=await o.get("/api/catalogues",{params:{populate:"*","pagination[pageSize]":50,"sort[0]":"nomdufournisseur",...s}});if(w.value=t.data||[],!_.value.length||!i.value.length){const a=new Set,b=new Set;for(const g of w.value)g?.marque&&a.add(g.marque),Array.isArray(g?.gamme)&&g.gamme.forEach(B=>B&&b.add(B));_.value=[...a].sort(),i.value=[...b].sort()}}function y(s){const t=document.querySelector("#filters-wrapper > div.filter-content > div.filters > div.remove-filters > p");t&&(t.style.display=s?"block":"none")}function k(s){const t=document.querySelector("#filter-selected");if(t&&(t.innerHTML="",s)){const a=document.createElement("p");a.textContent=s,t.appendChild(a)}}async function H(s){const t=typeof s=="string"?s:s?.target?.textContent||"";y(!0),k(t),await m({"filters[marque][$eq]":t})}async function S(s){const t=typeof s=="string"?s:s?.target?.textContent||"";y(!0),k(t),await m({"filters[gamme][$id]":t})}async function T(){y(!1),k(""),await m()}function V(){const s=document.getElementById("brand-modal");s&&(s.style.display="flex")}function z(){const s=document.getElementById("brand-modal");s&&(s.style.display="none")}x(async()=>{try{await m()}catch(s){console.error(s)}});const E=N(()=>_.value.filter(s=>s.toLowerCase().includes(l.value.toLowerCase())));return(s,t)=>(r(),n("section",Q,[e("div",X,[e("div",Y,[e("div",ee,[e("div",te,[t[1]||(t[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.311",height:"23.311",viewBox:"0 0 23.311 23.311"},[e("path",{d:"M3,24.5l5.308-5.308M5.529,12.485a9.485,9.485,0,1,1,9.485,9.485A9.485,9.485,0,0,1,5.529,12.485Z",fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"})],-1)),Z(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a),placeholder:"Tapez le nom de la marque que vous cherchez"},null,512),[[R,l.value]])]),e("div",se,[(r(!0),n(f,null,h(E.value,a=>(r(),n("div",{class:"brand-element-full-each",key:a},[e("i",{onClick:b=>H(a),class:"fa-regular fa-circle"},c(a),9,ae)]))),128))]),e("div",{class:"save-selection"},[e("p",{onClick:z},"Sauvegarder ma sélection")])])])]),e("div",ne,[e("div",re,[e("div",{class:"filter-content"},[t[4]||(t[4]=e("div",{class:"title-page"},[e("h2",null,"Nos catalogues")],-1)),e("div",{class:"filters"},[t[3]||(t[3]=A('<div class="show-filter"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 21.5 21.5"><path d="M13.25,7.556V18.944M7.556,13.25H18.944m4.556,0A10.25,10.25,0,1,1,13.25,3,10.25,10.25,0,0,1,23.5,13.25Z" transform="translate(-2.5 -2.5)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg><p>Afficher les filtres</p></div><div class="hide-filter"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25"><path d="M8.333,15H21.667M27,15A12,12,0,1,1,15,3,12,12,0,0,1,27,15Z" transform="translate(-2.5 -2.5)" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"></path></svg><p>Masquer les filtres</p></div>',2)),e("div",{class:"remove-filters"},[t[2]||(t[2]=e("div",{id:"filter-selected"},null,-1)),e("p",{style:{display:"none"},onClick:T},"Effacer la sélection")])])]),e("div",ie,[e("div",oe,[t[5]||(t[5]=e("div",{class:"departement-intro"},[e("h3",null,"Les gammes"),e("p",null,"Cochez les cases pour ne voir apparaitre que les éléments sélectionnés")],-1)),e("div",le,[(r(!0),n(f,null,h(i.value,a=>(r(),n("div",{class:"departement-element-each",key:a},[e("i",{onClick:b=>S(a),class:"fa-regular fa-circle"},c(a),9,de)]))),128))])]),e("div",{id:"brand-filters"},[t[7]||(t[7]=e("div",{class:"brand-intro"},[e("h3",null,"Les marques"),e("p",null,"Cochez les cases pour ne voir apparaitre que les éléments sélectionnés")],-1)),e("div",{onClick:V,class:"brand-full-list"},t[6]||(t[6]=[e("p",null,"Voir la liste ",-1)]))])])])]),e("div",ce,[e("div",ue,[L(O),L(J)]),e("div",pe,[(r(!0),n(f,null,h(w.value,a=>(r(),n("div",{class:"supplier-card-wrapper",key:a.id},[e("div",fe,[e("picture",null,[e("source",{srcset:u(a.coversquareby3full),media:"(min-width: 1700px)"},null,8,he),e("source",{srcset:u(a.coversquareby3),media:"(min-width: 1620px)"},null,8,ve),e("source",{srcset:u(a.coversquareby2),media:"(min-width: 1320px)"},null,8,me),e("source",{srcset:u(a.cover620),media:"(min-width: 1095px)"},null,8,be),e("source",{srcset:u(a.coverrectangle),media:"(min-width: 1000px)"},null,8,ge),e("img",{src:u(a.coversupplierdefault),alt:"Cover"},null,8,_e)])]),e("div",we,[e("div",ye,[e("div",ke,[e("h2",null,c(a.nomdufournisseur),1),e("p",null,c(a.annee),1)]),e("div",xe,[t[9]||(t[9]=e("p",null,"Voir le catalogue",-1)),a.document?(r(),n("a",{key:0,href:u(a.document),target:"_blank"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.249",height:"16.42",viewBox:"0 0 17.249 16.42"},[e("g",{transform:"translate(8.624 8.21)"},[e("g",{transform:"translate(-8.624 -8.21)"},[e("path",{d:"M16.825,7.2,9.967.412A1.426,1.426,0,1,0,7.961,2.44l4.392,4.344H1.426a1.426,1.426,0,1,0,0,2.852H12.353L7.961,13.98a1.426,1.426,0,1,0,2.006,2.028l6.858-6.784a1.426,1.426,0,0,0,0-2.028Z"})])])],-1)]),8,Ce)):C("",!0)])])])]))),128)),t[10]||(t[10]=e("div",{id:"supplier-all-hide",style:{display:"none"}},[e("p",null,"Display none")],-1))])]),t[11]||(t[11]=A('<div id="back-to-top"><div id="back-to-top-container"><a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="23" viewBox="0 0 30.042 31.558"><g transform="translate(15.021 15.779) rotate(-90)"><g transform="translate(-15.779 -15.021)"><path d="M30.784,13.166,18.236.754a2.609,2.609,0,1,0-3.67,3.71L22.6,12.413H2.609a2.609,2.609,0,1,0,0,5.217H22.6l-8.035,7.948a2.609,2.609,0,1,0,3.67,3.71L30.784,16.876a2.609,2.609,0,0,0,0-3.71Z"></path></g></g></svg><p>Remontez</p></a></div></div>',1))]))}};export{Be as default};
